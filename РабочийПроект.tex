\section{Рабочий проект}
\subsection{Описание REST API приложения}

Можно выделить следующий перечень HTTP-методов, использованных при разработке веб-приложения и доступных для использования клиентской частью приложения. Описание этих методов предоставлены в виде аблиц с уменьшенным межстрочным интервалом:
\begin{itemize}
    \item описания методов для работы с городами (таблица \ref{city:table});
    \item описание методов для работы с карточками товаров и услуг (таблица \ref{product:table});
    \item описание методов для работы с типами товаров и услуг (таблица \ref{type:table});
    \item описание методов для работы с данными пользователя (таблица \ref{data:table}).
\end{itemize}

\renewcommand{\arraystretch}{0.8} % уменьшение расстояний до сетки таблицы

\begin{xltabular}{\textwidth}{|X|p{2.5cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|}
    \caption{Описания методов для работы с городами\label{city:table}}\\
    \hline \centrow \setlength{\baselineskip}{0.7\baselineskip} HTTP-метод & \centrow \setlength{\baselineskip}{0.7\baselineskip} Описание & \centrow Входные параметры & \centrow Пример JSON ответа \\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \endfirsthead
    \caption*{Продолжение таблицы \ref{city:table}}\\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \finishhead
    GET /api /City  & Список всех городов City в БД & Нет & [ \{ 
      id: 0, 
      name: <<string>>, 
      description: <<string>> 
        \} 
      ] \\
\end{xltabular}
    

\begin{xltabular}{\textwidth}{|X|p{2.5cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|}
    \caption{Описание методов для работы с карточками товаров и услуг\label{product:table}}\\
    \hline \centrow \setlength{\baselineskip}{0.7\baselineskip} HTTP-метод & \centrow \setlength{\baselineskip}{0.7\baselineskip} Описание & \centrow Входные параметры & \centrow Пример JSON ответа \\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \endfirsthead
    \caption*{Продолжение таблицы \ref{product:table}}\\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \finishhead
    GET /api /Product  & Список всех карточек Product & Нет & [
        \{
      id: 0,
      name: <<string>>,
      description: <<string>>,
      imageUrl: <<string>>,
      price: 0,
      createdByUserId: 0,
      cityId: 0,
      productGroupId: 0,
      productStatusId: 0,
      createdAt: <<2024-01-20>>,
      publishedAt: <<2024-01-20>>,
      expiredAt: <<2024-01-20>>,
      priorityId: 0,
      priorityStartedAt: <<2024-01-20>>,
      priorityExpiredAt: <<2024-01-20>>,
      createdByUser: \{
        phone: <<string>>,
        email: <<string>>,
        firstName: <<string>>,
        lastName: <<string>>,
        imageUrl: <<string>>,
        telegram: <<string>>,
        website: <<string>>,
        userRoleId: <<string>>,
        permissions: <<string>>,
        id: 0
          \}
        \}
      ]\\
\hline POST /api /Product  & Создать новый Product & Body: \{
id: 0,
name: <<string>>,
description: <<string>>,
imageUrl: <<string>>,
price: 0,
createdByUserId: 0,
cityId: 0,
productGroupId: 0,
productStatusId: 0,
createdAt: <<2024-01-20>>,
publishedAt: <<2024-01-20>>,
expiredAt: <<2024-01-20>>,
priorityId: 0,
priorityStartedAt: <<2024-01-20>>,
priorityExpiredAt: <<2024-01-20>>,
createdByUser: \{
  phone: <<string>>,
  email: <<string>>,
  firstName: <<string>>,
  lastName: <<string>>,
  imageUrl: <<string>>,
  telegram: <<string>>,
  website: <<string>>,
  userRoleId: <<string>>,
  permissions: <<string>>,
  id: 0
    \}
  \} & \{
id: 0,
name: <<string>>,
description: <<string>>,
imageUrl: <<string>>,
price: 0,
createdByUserId: 0,
cityId: 0,
productGroupId: 0,
productStatusId: 0,
createdAt: <<2024-01-20>>,
publishedAt: <<2024-01-20>>,
expiredAt: <<2024-01-20>>,
priorityId: 0,
priorityStartedAt: <<2024-01-20>>,
priorityExpiredAt: <<2024-01-20>>
  \}\\
\hline GET /api /Product /\{id\} & Получить выбранный Product по его id & Нет & \{
id: 0,
name: <<string>>,
description: <<string>>,
imageUrl: <<string>>,
price: 0,
createdByUserId: 0,
cityId: 0,
productGroupId: 0,
productStatusId: 0,
createdAt: <<2024-01-20>>,
publishedAt: <<2024-01-20>>,
expiredAt: <<2024-01-20>>,
priorityId: 0,
priorityStartedAt: <<2024-01-20>>,
priorityExpiredAt: <<2024-01-20>>
  \}\\
\hline PUT /api /Product /\{id\} & Обновить существующий Product & Body: \{
id: 0,
name: <<string>>,
description: <<string>>,
imageUrl: <<string>>,
price: 0,
createdByUserId: 0,
cityId: 0,
productGroupId: 0,
productStatusId: 0,
createdAt: <<2024-01-20>>,
publishedAt: <<2024-01-20>>,
expiredAt: <<2024-01-20>>,
priorityId: 0,
priorityStartedAt: <<2024-01-20>>,
priorityExpiredAt: <<2024-01-20>>,
createdByUser: \{
  phone: <<string>>,
  email: <<string>>,
  firstName: <<string>>,
  lastName: <<string>>,
  imageUrl: <<string>>,
  telegram: <<string>>,
  website: <<string>>,
  userRoleId: <<string>>,
  permissions: <<string>>,
  id: 0
    \}
  \} & \{
id: 0,
name: <<string>>,
description: <<string>>,
imageUrl: <<string>>,
price: 0,
createdByUserId: 0,
cityId: 0,
productGroupId: 0,
productStatusId: 0,
createdAt: <<2024-01-20>>,
publishedAt: <<2024-01-20>>,
expiredAt: <<2024-01-20>>,
priorityId: 0,
priorityStartedAt: <<2024-01-20>>,
priorityExpiredAt: <<2024-01-20>>
  \}\\
\hline DELETE /api /Product /\{id\} & Удалить Product по его id & Нет & Нет\\
\hline GET /api /Product /filter & Получить отфильтрованный список существующих продуктов & Query parameters: cityId: integer, productGroupId: integer, publishedAtFrom: string, expiredAtTo: string. & [
    \{
  id: 0,
  name: <<string>>,
  description: <<string>>,
  imageUrl: <<string>>,
  price: 0,
  createdByUserId: 0,
  cityId: 0,
  productGroupId: 0,
  productStatusId: 0,
  createdAt: <<2024-01-20>>,
  publishedAt: <<2024-01-20>>,
  expiredAt: <<2024-01-20>>,
  priorityId: 0,
  priorityStartedAt: <<2024-01-20>>,
  priorityExpiredAt: <<2024-01-20>>
    \}
  ]\\
\end{xltabular}

\begin{xltabular}{\textwidth}{|X|p{2.5cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|}
    \caption{Описание методов для работы с типами товаров и услуг\label{type:table}}\\
    \hline \centrow \setlength{\baselineskip}{0.7\baselineskip} HTTP-метод & \centrow \setlength{\baselineskip}{0.7\baselineskip} Описание & \centrow Входные параметры & \centrow JSON ответ \\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \endfirsthead
    \caption*{Продолжение таблицы \ref{type:table}}\\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \finishhead
    GET /api /ProductGtoup  & Список всех типов товаров и услуг ProductGroup в БД & Нет & [
        \{
      id: 0,
      name: <<string>>,
      description: <<string>>,
      type: 0,
      childrenProductGroupIds: [
            0
          ],
      parentProductGroupId: 0
        \}
      ]\\
      \hline POST /api /ProductGtoup  & Создать новый ProductGtoup & Body: [
        \{
      id: 0,
      name: <<string>>,
      description: <<string>>,
      type: 0,
      childrenProductGroupIds: [
            0
          ],
      parentProductGroupId: 0
        \}
      ] & [
        \{
      id: 0,
      name: <<string>>,
      description: <<string>>,
      type: 0,
      childrenProductGroupIds: [
            0
          ],
      parentProductGroupId: 0
        \}
      ] \\
\end{xltabular}

\begin{xltabular}{\textwidth}{|X|p{4.85cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{2.5cm}|>{\setlength{\baselineskip}{0.7\baselineskip}}p{4.85cm}|}
    \caption{Описание методов для работы с данными пользователя\label{data:table}}\\
    \hline \centrow \setlength{\baselineskip}{0.7\baselineskip} HTTP-метод & \centrow \setlength{\baselineskip}{0.7\baselineskip} Описание & \centrow Входные параметры & \centrow JSON ответ \\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \endfirsthead
    \caption*{Продолжение таблицы \ref{data:table}}\\
    \hline \centrow 1 & \centrow 2 & \centrow 3 & \centrow 4\\ \hline
    \finishhead
    GET /api /User /{id} & Получить данные существующего пользователя User по его id & Нет & \{
    phone: <<string>>,
    email: <<string>>,
    firstName: <<string>>,
    lastName: <<string>>,
    imageUrl: <<string>>,
    telegram: <<string>>,
    website: <<string>>,
    userRoleId: <<string>>,
    permissions: <<string>>,
    id: 0
      \}\\
      \hline POST /api /User /create & Создать нового пользователя User & Body: \{
    phone: <<string>>,
    email: <<string>>,
    firstName: <<string>>,
    lastName: <<string>>,
    imageUrl: <<string>>,
    telegram: <<string>>,
    website: <<string>>,
    userRoleId: <<string>>,
    permissions: <<string>>,
    password: <<string>>
      \} & \{
    phone: <<string>>,
    email: <<string>>,
    firstName: <<string>>,
    lastName: <<string>>,
    imageUrl: <<string>>,
    telegram: <<string>>,
    website: <<string>>,
    userRoleId: <<string>>,
    permissions: <<string>>,
    id: 0,
    hash: <<string>>,
    salt: <<string>>
      \} \\
      \hline POST /api /User /login & Авторизоваться существующим пользователем User в системе. Авторизоваться -\- сохранить в клиентском приложение значение из поля accessToken & Body: \{
    email: <<string>>,
    password: <<string>>
      \} & \{
    phone: <<string>>,
    email: <<string>>,
    firstName: <<string>>,
    lastName: <<string>>,
    imageUrl: <<string>>,
    telegram: <<string>>,
    website: <<string>>,
    userRoleId: <<string>>,
    permissions: <<string>>,
    id: 0,
    accessToken: <<string>>
      \} \\
\end{xltabular}

\renewcommand{\arraystretch}{1.0} % восстановление сетки

\subsection{Модульное тестирование разработанного приложения}

Класс Short является базовым классом, от которого наследуются почти все модели серверной части приложения. Модульный тест для класса Short из модели данных представлен на рисунках \ref{unitshort1:image} и \ref{unitshort2:image}.

\begin{figure}[ht]
\lstset{style=sharpc}
\begin{lstlisting}
    using System;
    using System.IO;
    using System.Math;
    using Microsoft.VisualStudio.TestTools.UnitTesting;
    
    namespace new_back
    {
      [TestClass]
      public class Short
      {
        public long Id { get; set; } = null;
    
        public string Name { get; set; } = null;
    
        public string Description { get; set; } = null;
      }
    
      [TestMethod]
      public void Short_Validate_Name() 
      { 
        var testValue = "Test Name";
        var testObject = new Short() { 
          Name = testValue
        };
        TestString(testObject.name, testValue); 
      } 
      
      [TestMethod]
      public void Short_Validate_Description() 
      { 
        var testValue = "Test description";
        var testObject = new Short() { 
          Description = testValue
        };
        TestString(testObject.name, testValue); 
      }  
\end{lstlisting}
\caption{Модульный тест класса Short (часть 1)}
\label{unitshort1:image}
\end{figure}

\begin{figure}[!ht]
\lstset{style=sharpc}
\begin{lstlisting}
    [TestMethod]
    public void Short_Validate_Id() 
    { 
      var testObject = new Short(); 
      long randomId = 0; 
      while (randomId == 0) 
      { 
        randomId = GenerateUniqueId(); 
      } 
      testObject.Id = randomId; 
      Assert.AreNotEqual(0, testObject.Id); 
      Assert.AreEqual(randomId, testObject.Id); 
    }
  
    private boolean TestString(string v1, string v2)
    {
      if (v1 == null || v2 == null)
        Assert.Fail();
        
      Assert.AreEqual(v1, v2);
    }
  
    public static int GenerateUniqueId()
    {
      Random random = new Random();
      return random.Next(1, 101);
    }
  }
\end{lstlisting}
\caption{Модульный тест класса Short (часть 2)}
\label{unitshort2:image}
\end{figure}

\subsection{Системное тестирование разработанного web-сайта}

На рисунке \ref{main:image} представлена главная страница сайта «Русатом – Аддитивные технологии».
\newpage % при необходимости можно переносить рисунок на новую страницу
\begin{figure}[H] % H - рисунок обязательно здесь, или переносится, оставляя пустоту
\center{\includegraphics[width=1\linewidth]{main1}}
\center{\includegraphics[width=1\linewidth]{main2}}
\center{\includegraphics[width=1\linewidth]{main3}}
\caption{Главная страница сайта «Русатом – Аддитивные технологии»}
\label{main:image}
\end{figure}

На рисунке \ref{menu:image} представлен динамический вывод заголовков, включающий в себя искомые фразы при поиске фраз.

\begin{figure}[ht]
\center{\includegraphics[width=1\linewidth]{menu}}
\caption{Динамический вывод заголовков}
\label{menu:image}
\end{figure}

На рисунке \ref{enter:image} представлен ввод данных для публикации новости.

\begin{figure}[ht]
\center{\includegraphics[width=1\linewidth]{enter}}
\caption{Ввод данных для публикации очень-очень длинной, интересной и полезной новости}
\label{enter:image}
\end{figure}
